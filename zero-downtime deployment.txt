–ø–µ—Ä–≤—ã—ã–π –¥–µ–ø–ª–æ–π

docker build -t frontend_new ./frontend && docker build -t backend_new ./backend && docker run -d --name frontend1 frontend_new && docker run -d --name frontend2 frontend_new && docker run -d --name backend1 backend_new && docker run -d --name backend2 backend_new && docker run -d --name nginx -p 80:80 -v $(pwd)/nginx/nginx.conf:/etc/nginx/nginx.conf:ro --link frontend1 --link frontend2 --link backend1 --link backend2 nginx:stable-alpine

–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç

docker build -t frontend_new ./frontend && docker build -t backend_new ./backend && docker run -d --name frontend_new frontend_new && docker run -d --name backend_new backend_new && docker stop frontend1 && docker rm frontend1 && docker rename frontend_new frontend1 && docker stop backend1 && docker rm backend1 && docker rename backend_new backend1 && docker exec nginx nginx -s reload

üîπ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:

docker build -t frontend_new ./frontend ‚Äî —Å–æ–±–∏—Ä–∞–µ–º –Ω–æ–≤—ã–π —Ñ—Ä–æ–Ω—Ç.

docker build -t backend_new ./backend ‚Äî —Å–æ–±–∏—Ä–∞–µ–º –Ω–æ–≤—ã–π –±—ç–∫.

docker run -d --name frontend_new frontend_new ‚Äî –∑–∞–ø—É—Å–∫–∞–µ–º –Ω–æ–≤—ã–π —Ñ—Ä–æ–Ω—Ç –≤—Ä–µ–º–µ–Ω–Ω–æ.

docker run -d --name backend_new backend_new ‚Äî –∑–∞–ø—É—Å–∫–∞–µ–º –Ω–æ–≤—ã–π –±—ç–∫ –≤—Ä–µ–º–µ–Ω–Ω–æ.

docker stop frontend1 && docker rm frontend1 && docker rename frontend_new frontend1 ‚Äî –∑–∞–º–µ–Ω—è–µ–º —Å—Ç–∞—Ä—ã–π —Ñ—Ä–æ–Ω—Ç.

docker stop backend1 && docker rm backend1 && docker rename backend_new backend1 ‚Äî –∑–∞–º–µ–Ω—è–µ–º —Å—Ç–∞—Ä—ã–π –±—ç–∫.

docker exec nginx nginx -s reload ‚Äî –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º Nginx, —á—Ç–æ–±—ã –Ω–æ–≤—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –Ω–∞—á–∞–ª–∏ –æ–±—Å–ª—É–∂–∏–≤–∞—Ç—å —Ç—Ä–∞—Ñ–∏–∫.
